---
import ProfileData from "./components/ProfileData"
import logo from "public/localicity-logo.png"
---

<header class="z-1000 top-0 sticky bg-white/97 backdrop-blur-sm border-b-1 border-gray-200 shadow-md relative">
  <div class="h-16 container mx-auto px-4">
    <div class="h-full w-full flex items-center justify-between lg:grid lg:grid-cols-3 lg:px-28">
      {/* Logo */}
      <a href="/" class="flex items-center space-x-2">
        <div class="w-8 h-8 flex items-center justify-center">
          <img src={logo.src} class="cover"/>
        </div>
        <span class="text-2xl font-bold text-gray-800">LocaliCity</span>
      </a>

      {/* Navigation */}
      <nav class="h-full hidden lg:grid grid-cols-3 gap-x-8">
        <a href="/paises" class="flex justify-center items-center text-blue-600 hover:text-blue-800 hover:bg-gray-50 font-medium group relative duration-300 transition-all">
          Países
          <span class="absolute inset-x-0 bottom-0 h-0.75 bg-gray-300 scale-x-0 transition-transform group-hover:scale-x-100"></span>
        </a>
        <a href="#" class="flex justify-center items-center text-blue-600 hover:text-blue-800 hover:bg-gray-50 font-medium group relative duration-300 transition-all">
          Provincias
          <span class="absolute inset-x-0 bottom-0 h-0.75 bg-gray-300 scale-x-0 transition-transform group-hover:scale-x-100"></span>
        </a>
        <a href="#" class="flex justify-center items-center text-blue-600 hover:text-blue-800 hover:bg-gray-50 font-medium group relative duration-300 transition-all">
          Localidades
          <span class="absolute inset-x-0 bottom-0 h-0.75 bg-gray-300 scale-x-0 transition-transform group-hover:scale-x-100"></span>
        </a>
      </nav>

      {/* Auth Links */}
      

        <ProfileData client:load/>
      </div>

      <button id="toggle-button" name="toggle-button" ="button" class="flex lg:hidden items-center justify-end hover:text-gray-600 active:text-gray-400">
        
      </button>
    </div>
  </div>

  <div id="mobile-menu" class="hidden lg:hidden z-1000 absolute left-0 right-0 bg-white/97 backdrop-blur-sm border-b-1 border-gray-200 shadow-md">
    <nav class="w-full flex flex-col justify-center items-center space-y-3 py-4">
      <a href="#" class="text-gray-600 flex items-center space-x-1 py-2 px-4 hover:text-gray-800 hover:rounded-md hover:shadow-sm hover:bg-gray-100 duration-300 transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24">
          <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 7v14m7.758-17.091c-3.306-1.684-5.907-.698-7.204.31c-.234.182-.35.273-.452.48C4 4.909 4 5.102 4 5.49v9.243c.97-1.098 3.879-2.8 7.758-.823c3.466 1.765 6.416 1.033 7.812.27c.193-.105.29-.158.36-.276s.07-.246.07-.502V5.874c0-.829 0-1.243-.197-1.393c-.198-.15-.66-.022-1.583.234c-1.58.438-3.878.51-6.462-.806" />
        </svg>
        <span class="font-semibold">Países</span>
      </a>

      <a href="#" class="text-gray-600 flex items-center space-x-1 py-2 px-4 hover:text-gray-800 hover:rounded-md hover:shadow-sm hover:bg-gray-100 duration-300 transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24">
          <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
            <path d="M18.91 18c.915 1.368 1.301 2.203.977 2.9q-.06.128-.14.247c-.575.853-2.06.853-5.03.853H9.283c-2.97 0-4.454 0-5.029-.853a2 2 0 0 1-.14-.247c-.324-.697.062-1.532.976-2.9M15 9.5a3 3 0 1 1-6 0a3 3 0 0 1 6 0" />
            <path d="M12 2c4.059 0 7.5 3.428 7.5 7.587c0 4.225-3.497 7.19-6.727 9.206a1.55 1.55 0 0 1-1.546 0C8.003 16.757 4.5 13.827 4.5 9.587C4.5 5.428 7.941 2 12 2" />
          </g>
        </svg>
        <span class="font-semibold">Provincias</span>
      </a>

      <a href="#" class="text-gray-600 flex items-center space-x-1 py-2 px-4 hover:text-gray-800 hover:rounded-md hover:shadow-sm hover:bg-gray-100 duration-300 transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24">
          <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
            <path d="M13.618 21.367A2.37 2.37 0 0 1 12 22a2.37 2.37 0 0 1-1.617-.633C6.412 17.626 1.09 13.447 3.685 7.38C5.09 4.1 8.458 2 12.001 2s6.912 2.1 8.315 5.38c2.592 6.06-2.717 10.259-6.698 13.987" />
            <path d="M15.5 11a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0" />
          </g>
        </svg>
        <span class="font-semibold">Localidades</span>
      </a>

      <a href="/registrarse" class="text-gray-600 flex items-center space-x-1 py-2 px-4 hover:text-gray-800 hover:rounded-md hover:shadow-sm hover:bg-gray-100 duration-300 transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24">
          <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.18 15.296c-1.258.738-4.555 2.243-2.547 4.126c.982.92 2.074 1.578 3.448 1.578h7.838c1.374 0 2.467-.658 3.447-1.578c2.009-1.883-1.288-3.389-2.546-4.126a9.61 9.61 0 0 0-9.64 0M14 7a4 4 0 1 1-8 0a4 4 0 0 1 8 0m5.5-3v5M22 6.5h-5" />
        </svg>
        <span class="font-semibold">Registrarse</span>
      </a>

      <a href="/iniciar-sesion" class="text-gray-600 flex items-center space-x-1 py-2 px-4 hover:text-gray-800 hover:rounded-md hover:shadow-sm hover:bg-gray-100 duration-300 transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24">
          <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
            <path d="M15 17.625c-.074 1.852-1.617 3.424-3.684 3.374c-.481-.012-1.076-.18-2.265-.515c-2.861-.807-5.345-2.164-5.941-5.202C3 14.723 3 14.094 3 12.837v-1.674c0-1.257 0-1.886.11-2.445c.596-3.038 3.08-4.395 5.941-5.202c1.19-.335 1.784-.503 2.265-.515c2.067-.05 3.61 1.522 3.684 3.374" />
            <path d="M10 12h11m-11 0c0-.7 1.994-2.008 2.5-2.5M10 12c0 .7 1.994 2.008 2.5 2.5" />
          </g>
        </svg>
        <span class="font-semibold">Iniciar Sesión</span>
      </a>
    </nav>
  </div>
</header>

<script>
  const toggleButtonElement = document.getElementById('toggle-button');
  const mobileMenuElement = document.getElementById('mobile-menu');
  const barsIcon = `
    <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-8" viewBox="0 0 24 24">
      <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5h16M4 12h16M4 19h16" />
    </svg>`;
  const closeIcon = `
    <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-8" viewBox="0 0 24 24">
      <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 5L5 19M5 5l14 14" />
    </svg>
  `;
  let isOpen = false;

  window.onload = function() {
    if (toggleButtonElement) {
      toggleButtonElement.innerHTML = barsIcon;
    }
  };

  if (toggleButtonElement) {
    toggleButtonElement.addEventListener('click', () => {
      isOpen = !isOpen;
      toggleButtonElement.innerHTML = isOpen ? closeIcon : barsIcon;
      
      if (isOpen) {
        mobileMenuElement?.classList.remove('hidden');
      } else {
        mobileMenuElement?.classList.add('hidden');
      }
    });
  }
</script>